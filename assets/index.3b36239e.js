import{j,a as F,F as E,L as g,S as D,T as q,d as B,C as Y,l as f,p as _,s as O,y as z,W,b as Q,c as G}from"./vendor.6350e7b7.js";const H=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}};H();const e=j,r=F,$=E;function J({minted:t}){return e("div",{className:"border-b border-slate-500/20 pb-6",children:r("p",{className:"text-2xl text-center text-slate-300",children:[t&&e("span",{children:t}),!t&&e("span",{title:"Connect to know",children:"?"})," ","/ 3,001 minted"]})})}function K({account:t,setAccount:i,ready:a,requiredChainId:c,onConnect:n=()=>{}}){async function s(){if(!a)return;if(!window.ethereum)return alert("Looks like you don't have Metamask installed. Check the FAQ section for more info.");if(await window.ethereum.request({method:"eth_chainId"})!==c)return alert("You are not connected to the Polygon network. Check the FAQ section below for more info.");try{const u=await window.ethereum.request({method:"eth_requestAccounts"});u.length>0&&i(u[0]),n()}catch({code:u,message:h}){if(u!==4001)return alert(`Oops, something went wrong:
${h}`)}}const o=`${t.substring(0,5)}...${t.substring(t.length-3)}`;return e("div",{className:"border-b border-slate-500/20 py-6",children:r("div",{className:"text-center",children:[!t&&e("button",{className:"rounded-lg px-6 h-12 inline-flex items-center cursor-pointer disabled:cursor-default text-white font-semibold text-xl bg-sky-600 hover:bg-sky-500 transition-colors disabled:bg-slate-300",onClick:s,disabled:!a,children:"Connect"}),t&&e("span",{className:"rounded-lg px-6 h-12 inline-flex items-center cursor-default text-white font-semibold text-xl bg-sky-500",title:t,children:o})]})})}function R({tx:t}){return e("div",{className:"mt-8 prose prose-dark prose-sm",children:r("p",{class:"break-words",children:["Minted successfully: ",e("a",{href:(a=>"https://polygonscan.com/tx/{TID}".replace("{TID}",a))(t),className:"underline font-semibold",title:"Click to check this transaction on polygonscan.com",children:t})]})})}function M(...t){return t.filter(Boolean).join(" ")}function L({items:t,selected:i,setSelected:a,label:c}){return e(g,{value:i,onChange:a,children:({open:n})=>r($,{children:[c&&e(g.Label,{className:"block text-sm text-slate-300 text-center",children:c}),r("div",{className:"mt-1 relative",children:[r(g.Button,{className:"relative w-full bg-white border-0 rounded-full pl-3 pr-10 py-2 flex items-center justify-center cursor-default focus:outline-none focus:ring-1 focus:ring-sky-600 focus:border-sky-600 text-xl leading-[3.5rem] ring-1 ring-slate-900/10 h-14",children:[e("span",{className:"flex items-center",children:e("span",{className:"ml-3 block text-slate-700 truncate",children:i.title})}),e("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e(D,{className:"h-5 w-5 text-slate-400","aria-hidden":"true"})})]}),e(q,{show:n,as:B,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(g.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-56 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.map(s=>e(g.Option,{className:({active:o})=>M(o?"text-white bg-sky-600":"text-slate-900","cursor-default select-none relative py-2 pl-3 pr-9"),value:s,children:({selected:o,active:d})=>r($,{children:[e("div",{className:M(o?"font-semibold":"font-normal","block truncate"),children:s.title}),o?e("span",{className:M(d?"text-white":"text-sky-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:e(Y,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},s.id))})})]})]})})}const N=[1,2,3,4,5].map(t=>({id:t,value:`${t}`,title:`${t} ${t===1?"Polyblock":"Polyblocks"}`})),k=[0,3,5,10,25].map(t=>({id:t,value:`${t}`,title:`${t} MATIC`}));function V({provider:t,contract:i,connected:a,paused:c,onMinted:n=()=>{}}){const[s,o]=f([]),[d,u]=f(N[0]),[h,p]=f(k[0]),[y,w]=f(!1),[v,C]=f("");async function A(){o([]);const b=[];if(c)return alert("Contract is paused at the moment. Just follow me on Twitter to find out when minting will be live.");N.map(m=>m.value).includes(d.value)||b.push("amount"),k.map(m=>m.value).includes(h.value)||b.push("tip");let x;try{x=_(h.value)}catch{b.push("tip")}if(b.length>0){o(b);return}w(!0);const T=i.current.connect(t.current.getSigner());try{const m=await T.mint(d.value,{value:x,gasLimit:285e3*d.value});await m.wait(),C(m.hash),u(N[0]),p(k[0])}catch({code:m,message:l}){alert(m===-32603?"Oops, something went wrong with you mint. Maybe you already have minted 15 Polyblocks and tried to mint another one?!":`Oops, something went wrong:
${l}`)}w(!1),n()}return r("div",{class:"pt-6",children:[e("div",{className:"prose prose-dark text-center px-2",children:r("p",{children:["You can mint up to ",e("u",{children:"5 Polyblocks per transaction"}),e("br",{}),"and ",e("u",{children:"up to 15 Polyblocks per wallet"}),"."]})}),r("div",{className:"mt-8 px-2",children:[e("div",{className:"w-48 mx-auto relative",children:e(L,{items:N,selected:d,setSelected:u,label:"Number of Polyblocks"})}),s.includes("amount")&&e(P,{children:"This value doesn't seem to be correct. Only values from the list are allowed."})]}),r("div",{className:"mt-8 text-slate-300 bg-white/20 ring-1 ring-slate-900/5 rounded-xl p-6 pt-4 text-center",children:[e("p",{className:"font-semibold",children:"Add a little tip?"}),e("p",{className:"text-sm mt-2",children:"See, this is my first NFT project but I have a lot of cool ideas. I'll be super grateful if you add some MATIC to the mint! I originally planned to charge 3\xA0MATIC each."}),r("div",{className:"mt-6 text-left",children:[e("div",{className:"w-48 mx-auto relative",children:e(L,{items:k,selected:h,setSelected:p,label:"Tip amount"})}),s.includes("tip")&&e(P,{children:"Thanks for being generous, but this field only allows values from the list."})]})]}),r("div",{className:"flex justify-center mt-8",children:[!y&&e("button",{className:"rounded-lg px-6 h-12 inline-flex items-center text-white bg-sky-500 hover:bg-sky-400 disabled:bg-slate-300 disabled:text-slate-800 transition-colors font-semibold text-xl",disabled:!a,onClick:A,children:"Mint"}),y&&r("span",{className:"rounded-lg px-6 h-12 inline-flex items-center bg-sky-400 font-semibold text-xl",children:[r("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-slate-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Minting"]})]}),v&&e(R,{tx:v}),e("div",{className:"mt-8 text-xs text-center text-slate-300/75",children:"Gas limit is increased to 285,000 to ensure smooth minting. You cannot undo your purchase once made."})]})}function P({children:t}){return e("p",{className:"mt-2 text-red-400 text-sm px-6 text-center",children:t})}function U(t){const[i,a]=f(""),[c,n]=f(!0),[s,o]=f(!1),[d,u]=f(""),h=O(null),p=O(null),y=s&&!!d,w=l=>{setTransactions([l,...transactions])},v="0x89",C="0x70f9560A1B5efa3DED0949A2377A8A8D049DE490 ",A=["function mint(uint256 amount) payable external","function paused() public view returns(bool)","function totalSupply() public view returns(uint256)"];z(()=>{var l,S;(l=window.ethereum)==null||l.on("chainChanged",I=>{window.location.reload()}),(S=window.ethereum)==null||S.on("accountsChanged",I=>{I.length>0&&u(I[0])}),o(!0)},[]);async function b(){try{console.log(p.current),window.xxc=p.current;const l=await p.current.paused();n(l)}catch(l){console.error(l),n(!0)}}async function x(){try{const l=await p.current.totalSupply();a(l.toString())}catch(l){console.error(l),a("")}}async function T(){h.current=new W(window.ethereum),p.current=new Q(C,A,h.current),b(),x()}return i==="3001"?r("div",{class:"text-center prose prose-sky",children:[e("p",{class:"font-bold uppercase mb-0",children:"\u{1F389} Sold out \u{1F389}"}),r("p",{class:"mt-0",children:["You have to buy used on ",e("a",{href:"#",children:"OpenSea"})]})]}):r("div",{class:"py-2",children:[e(J,{minted:i}),e(K,{account:d,setAccount:u,ready:s,requiredChainId:v,onConnect:T}),e(V,{provider:h,contract:p,connected:y,paused:c,addTransaction:w,onMinted:x})]})}G(e(U,{}),document.getElementById("app"));
